<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Veterinaria Mascotas - Tu Barrio A Un Click</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  <link rel="stylesheet" href="/shared/css/negocios.css">
  <link rel="icon" href="/shared/img/icon-192x192.png">
  <meta name="description" content="Veterinaria Mascotas en Castelar. Cuidado integral para tus mascotas, desde consultas hasta alimentos.">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="/shared/js/config.js"></script>
</head>
<style>
  /* Animaciones suaves */
  .transition-all {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  
  /* Fondo oscuro con desenfoque */
  .bg-black\\.bg-opacity-70 {
    background-color: rgba(0, 0, 0, 0.7);
  }
  
  /* Efecto de pulsación en botones */
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
  }
  
  .animate-pulse-slow {
    animation: pulse 2s infinite;
  }
  .fixed.top-4.right-4.bg-green-500.text-white {
    transition: opacity 0.3s ease;
    animation: slideIn 0.3s ease;
  }

  @keyframes slideIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

</style>
<body data-categoria="veterinaria" class="bg-gray-100 font-sans">

  <div id="splash-screen" class="splash-screen">
        <div class="splash-particles" id="splashParticles"></div>
        <div class="splash-grid"></div>
        <div class="splash-logo">
            <img src="/Zona-Tu-Barrio/shared/img/icon-192x192.png" class="logo-icon" alt="logo de la app">
        </div>
        <h1 class="splash-text">Tu Barrio A Un Clik</h1>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
        <p class="loading-text" id="loadingText">Cargando experiencia local...</p>
        <button onclick="skipSplash()" class="skip-btn">Saltar</button>
    </div>

  <!-- Header dinámico -->
  <header
    data-nombre-negocio="Panadería"
    data-logo-negocio="img/logo-negocio.png">
    <div class="container flex justify-between items-center p-4">
      <!-- Logo de la app animado con texto -->
      <a href="../index.html" class="logo-app group text-decoration-none inline-flex items-center space-x-2 bg-white px-3 py-1 rounded-full shadow-md border border-gray-200 transition-all duration-300 hover:scale-105 hover:shadow-lg animate-bounce-slow">
        <img src="/Zona-Tu-Barrio/shared/img/icon-192x192.png" alt="Logo App" class="h-8" />
        <span class="text-gray-700 font-semibold text-sm hidden sm:inline">Volver a la App</span>
      </a>

      <!-- Menú navegación (centrado en PC) -->
      <nav class="nav-menu hidden md:flex space-x-6">
        <a href="#inicio" class="text-gray-700 hover:text-green-600">Inicio</a>
        <a href="#productos" class="text-gray-700 hover:text-green-600">Productos</a>
        <a href="#ofertas" class="text-gray-700 hover:text-green-600">Ofertas</a>
        <a href="#contacto" class="text-gray-700 hover:text-green-600">Contacto</a>
      </nav>

      <!-- Logo del negocio -->
      <a href="../index.html" class="logo-negocio group inline-flex items-center space-x-2 bg-white px-3 py-1 rounded-full shadow-md border border-gray-200 transition-all duration-300 hover:scale-105 hover:shadow-lg animate-bounce-slow">
        <img id="logoNegocioPC" src="/Zona-Tu-Barrio/shared/img/icon-192x192.png" alt="Logo Negocio" class="h-10" />
      </a>

      <!-- Botón hamburguesa móvil -->
      <button id="mobileMenuToggle" class="md:hidden text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </header>

  <div id="mobileMenuModal" class="modal fade" tabindex="-1" aria-labelledby="mobileMenuModalLabel" aria-hidden="true">  
  <div class="modal-dialog modal-right">
    <div class="modal-content bg-white/95 backdrop-blur-md w-3/4 max-w-sm h-full p-6 flex flex-col shadow-lg rounded-r-xl relative">
      <!-- Header del modal -->
      <div class="flex justify-between items-center mb-4">
        <img id="logoNegocioModal" src="/Zona-Tu-Barrio/shared/img/icon-192x192.png" alt="Logo del Negocio" class="h-10 rounded shadow-md">
        <button id="mobileMenuClose" class="text-gray-800 hover:text-red-500 focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <!-- Bienvenida -->
      <div class="mb-6">
        <h2 class="text-lg font-semibold text-gray-800">Bienvenido a</h2>
        <p id="nombreNegocioModal" class="text-xl font-bold text-green-700">Panadería</p>
      </div>

      <!-- Navegación móvil -->
      <nav class="space-y-4 text-base text-gray-700">
        <a href="#inicio" class="block hover:text-blue-600 transition">Inicio</a>
        <a href="#productos" class="block hover:text-blue-600 transition">Productos</a>
        <a href="#ofertas" class="block hover:text-blue-600 transition">Ofertas</a>
        <a href="#contacto" class="block hover:text-blue-600 transition">Contacto</a>
      </nav>

      <div class="flex-grow"></div>
    </div>
  </div>
  </div>

  <!-- Contenido principal -->
    <!-- Banner del negocio -->
    <section class="hero parallax" id="veterinaria">
      <div class="overlay-text text-white text-center p-4">
        <h1 class="display-4 fw-bold">Bienvenidos</h1>
        <p class="lead mb-4">Disfruta de la mejor experiencia en tu barrio</p>
      </div>
    </section>

    <!-- Información del negocio -->
    <section class="bg-white rounded-lg shadow-md p-4 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Información</h2>
      <div class="space-y-2">
        <p><strong>Dirección:</strong> Av. Independencia 901, Castelar, Buenos Aires</p>
        <p><strong>Horarios:</strong> <span data-hours="Mon-Sat 10:00-19:00">Lunes a Sábado: 10:00 - 19:00</span></p>
        <p><strong>Teléfono:</strong> <a href="tel:+541187654321">+54 11 8765-4321</a></p>
        <!-- Botón de WhatsApp - Diseño moderno y funcional -->
        <a href="https://wa.me/5491187654321?text=Hola%20desde%20Tu%20Barrio%20a%20un%20Clik,%20quisiera%20más%20información"
          target="_blank"
          rel="noopener noreferrer"
          class="w-full mt-4 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 shadow-md hover:shadow-lg group">
          <svg class="w-5 h-5 group-hover:animate-bounce" fill="currentColor" viewBox="0 0 24 24">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67-.148-.198 0-.52.198-.987.654-.52.495-.988 1.139-1.139 1.396-.148.256-.297.297-.554.148-.255-.148-1.074-.396-2.03-.987-.757-.471-1.277-1.139-1.426-1.395-.149-.256-.018-.395.112-.534.12-.14.256-.297.395-.446.14-.148.197-.297.297-.495.099-.198.049-.371-.025-.52-.074-.149-.669-1.611-.916-2.206-.238-.575-.475-.495-.654-.495-.17 0-.436.059-.653.316-.218.257-.833 1.075-1.277 1.458-.444.434-.888.494-1.332.494-.363 0-.554-.218-.745-.436-.19-.218-.728-1.075-1.193-1.612-.198-.423-.396-.473-.703.473-.306 0-.584-.07-.947-.237-.363-.168-1.458-.52-2.773-1.396-1.98-.758-3.284-1.98-3.483-2.18-.198-.198-.358-.306-.358-.554 0-.248.237-.653.713-1.129 1.227-1.21 2.523-1.907 3.551-2.26.99-.34 2.13-.34 3.502.12 1.37.46 2.77 1.56 3.76 2.55.99.99 1.485 1.67 2.03 2.03.548.36 1.206.653 1.924.653.71 0 1.14-.148 1.485-.297.346-.148 1.075-.994 1.227-1.226.148-.238.296-.148.553-.148.257 0 .563.059 1.017.653.52.654 1.83 1.83 1.83 2.77 0 .94-.653 1.67-1.307 2.03-.654.36-1.207.443-1.76.443-.495 0-1.014-.148-1.468-.395"/>
          </svg>
          <span>Chatear con Veterinaria Mascotas</span>
        </a>
      </div>
    </section>

    <section class="offers">
      <h2>Ofertas Especiales</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        
        <div class="offer-card">
          <img src="/Zona-Tu-Barrio/castelar/img/veterinaria-1.webp" alt="Descuento en Alimentos" class="offer-img">
          <h3>10% en Alimentos</h3>
          <p>Llevando 2 bolsas de alimento balanceado premium, obtenés un 10% de descuento.</p>
        </div>
    
        <div class="offer-card">
          <img src="/Zona-Tu-Barrio/castelar/img/veterinaria-2.webp" alt="Vacunación y Control" class="offer-img">
          <h3>Vacunación + Control</h3>
          <p>Consultá por nuestro combo de vacunación con control general a solo $3500.</p>
        </div>
    
        <div class="offer-card">
          <img src="/Zona-Tu-Barrio/castelar/img/veterinaria-3.webp" alt="Baño Gratis" class="offer-img">
          <h3>Baño Gratis</h3>
          <p>Con cada servicio de corte y peluquería para mascotas grandes, ¡baño sin cargo!</p>
        </div>
    
        <div class="offer-card">
          <img src="/Zona-Tu-Barrio/castelar/img/veterinaria-4.webp" alt="Descuento Turno Web" class="offer-img">
          <h3>Descuento por Turno Web</h3>
          <p>Reservá tu turno online y obtené un 15% de descuento en tu primera visita.</p>
        </div>
    
      </div>
    </section>

    <!-- Sección Ofertas de la Semana -->
    <section class="parallax-offer" id="ofertas">
      <div class="container py-5 position-relative z-10" id="ofertas-container">
        <h2 class="text-center text-white mb-5">🌟 Ofertas de la Semana</h2>
        <div class="row justify-content-center g-4" id="ofertas-list">
          <!-- Tarjetas generadas dinámicamente -->
        </div>
      </div>
    </section>

     <!-- Servicios destacados -->
    <section class="bg-white rounded-lg shadow-md p-4">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Servicios Destacados</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div class="flex items-start space-x-3 business-card">
          <img src="/Zona-Tu-Barrio/castelar/img/veterinaria.webp" alt="Consulta Veterinaria" class="w-20 h-20 object-cover rounded" loading="lazy">
          <div>
            <h3 class="font-semibold text-gray-800">Consulta Veterinaria</h3>
            <p class="text-gray-600">Revisión completa para perros y gatos. $2500.</p>
          </div>
        </div>
        <div class="flex items-start space-x-3 business-card">
          <img src="/Zona-Tu-Barrio/castelar/img/veterinaria-1.webp" alt="Vacunas" class="w-20 h-20 object-cover rounded" loading="lazy">
          <div>
            <h3 class="font-semibold text-gray-800">Vacunas</h3>
            <p class="text-gray-600">Vacunas para mascotas. $1500/dosis.</p>
          </div>
        </div>
        <div class="flex items-start space-x-3 business-card">
          <img src="/Zona-Tu-Barrio/castelar/img/veterinaria-2.webp" alt="Alimento Balanceado" class="w-20 h-20 object-cover rounded" loading="lazy">
          <div>
            <h3 class="font-semibold text-gray-800">Alimento Balanceado</h3>
            <p class="text-gray-600">Alimento premium para perros y gatos. $5000/bolsa.</p>
          </div>
        </div>
      </div>
    </section>

  <!-- Reservas - Formulario Elegante -->
<section class="bg-white rounded-2xl shadow-xl p-6 mb-8 transition-all duration-300 hover:shadow-2xl">
  <div class="text-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800 flex items-center justify-center gap-2">
      <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>
      Reservar Cita
    </h2>
    <p class="text-gray-600 mt-1">Completa el formulario y te contactaremos por WhatsApp</p>
  </div>

  <form id="vet-reservation-form" class="space-y-5">
    <!-- Servicio -->
    <div class="form-group">
      <label for="vet-service" class="block text-sm font-medium text-gray-700 mb-1">Servicio</label>
      <select id="vet-service" name="service" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 bg-white" required>
        <option value="" disabled selected>Selecciona un servicio</option>
        <option value="Consulta Veterinaria">Consulta Veterinaria ($2500)</option>
        <option value="Vacunación">Vacunación ($1500)</option>
        <option value="Baño y Corte">Baño y Corte ($3000)</option>
        <option value="Cirugía Menor">Cirugía Menor (Consultar)</option>
      </select>
    </div>

    <!-- Fecha y Hora -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="form-group">
        <label for="vet-date" class="block text-sm font-medium text-gray-700 mb-1">Fecha</label>
        <input type="date" id="vet-date" name="date" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 bg-white" required>
      </div>
      <div class="form-group">
        <label for="vet-time" class="block text-sm font-medium text-gray-700 mb-1">Hora</label>
        <input type="time" id="vet-time" name="time" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 bg-white" min="10:00" max="19:00" required>
      </div>
    </div>

    <!-- Cliente y Mascota -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="form-group">
        <label for="vet-client-name" class="block text-sm font-medium text-gray-700 mb-1">Nombre del Cliente</label>
        <input type="text" id="vet-client-name" name="client-name" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200" placeholder="Tu nombre" required>
      </div>
      <div class="form-group">
        <label for="vet-pet-name" class="block text-sm font-medium text-gray-700 mb-1">Nombre de la Mascota</label>
        <input type="text" id="vet-pet-name" name="pet-name" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200" placeholder="Nombre de tu mascota" required>
      </div>
    </div>

    <!-- Teléfono -->
    <div class="form-group">
      <label for="vet-phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono (WhatsApp)</label>
      <input type="tel" id="vet-phone" name="phone" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200" placeholder="+54 9 11 1234 5678" required>
    </div>

    <!-- Botón de envío -->
    <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl">
      <svg class="w-5 h-5 animate-bounce" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.93 6 11v5l-2 2v1h16v-1l-2-2zm-8 1c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-10c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z"/>
      </svg>
      <span>Enviar Reserva por WhatsApp</span>
    </button>
  </form>
</section> 

  <!-- Botón Volver Arriba -->
  <button id="scrollTopBtn" class="fixed bottom-4 right-4 bg-blue-600 text-white p-3 rounded-full shadow-lg hidden">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
    </svg>
  </button>

 <!-- Botón de instalación PWA -->



  <footer class="bg-white shadow-inner mt-8" id="contacto">
    <div class="container mx-auto px-4 py-6 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
      <div class="space-x-4 text-sm text-gray-600">
        <a href="#inicio" class="hover:text-blue-600">Inicio</a>
        <a href="#negocios" class="hover:text-blue-600">Negocios</a>
        <a href="#promos" class="hover:text-blue-600">Promos</a>
        <a href="#contacto" class="hover:text-blue-600">Contacto</a>
      </div>
      <p class="text-xs text-gray-400">© 2025 Tu Barrio A Un Click. Todos los derechos reservados.</p>
    </div>
    <!-- Botón de instalación en el footer -->
    <div class="install-banner mt-4 p-3 bg-white rounded shadow-sm">
      <div class="d-flex align-items-center">
        <img src="/Zona-Tu-Barrio/shared/img/icon-192x192.png" alt="Logo App" class="me-3" style="width: 60px; height: 60px;">
        <div class="flex-grow-1">
          <div class="small text-muted mb-1">¿Quieres la app completa?</div>
          <button id="botonInstalar" class="btn btn-success w-100 py-2">
            <i class="fas fa-download me-1"></i>Instalar Tu Barrio A Un Clik
          </button>
        </div>
      </div>
    </div>
  </footer>
<script>
  // Variables globales para almacenar los datos
  let formData = {
    nombre: '',
    servicio: '',
    fecha: '',
    hora: '',
    mascota: '',
    telefono: ''
  };

  // Cargar datos del localStorage al cargar la página
  function cargarDatosGuardados() {
    const savedData = localStorage.getItem('vetFormData');
    if (savedData) {
      try {
        const data = JSON.parse(savedData);
        formData = { ...formData, ...data };
        
        // Rellenar el formulario
        document.getElementById('vet-client-name')?.value === formData.nombre || '';
        document.getElementById('vet-service')?.value === formData.servicio || '';
        document.getElementById('vet-date')?.value === formData.fecha || '';
        document.getElementById('vet-time')?.value === formData.hora || '';
        document.getElementById('vet-pet-name')?.value === formData.mascota || '';
        document.getElementById('vet-phone')?.value === formData.telefono || '';

        console.log('✅ Datos cargados del localStorage');
      } catch (e) {
        console.warn('No se pudieron cargar datos guardados:', e);
      }
    }
  }

  // Guardar datos en localStorage
  function guardarDatos() {
    try {
      localStorage.setItem('vetFormData', JSON.stringify(formData));
      console.log('✅ Datos guardados en localStorage');
    } catch (e) {
      console.warn('No se pudieron guardar datos:', e);
    }
  }

  // Abrir modal de confirmación
  function openModal() {
    document.getElementById('confirmNombre').textContent = formData.nombre;
    document.getElementById('confirmTipo').textContent = formData.servicio;
    document.getElementById('confirmFechaHora').textContent = `${new Date(formData.fecha).toLocaleDateString('es-AR', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' })} - ${formData.hora}`;
    document.getElementById('confirmMascota').textContent = formData.mascota;

    const modal = document.getElementById('modalConfirmacion');
    modal.classList.remove('opacity-0', 'pointer-events-none');
    modal.classList.add('opacity-100', 'pointer-events-auto');
    
    setTimeout(() => {
      modal.querySelector('.max-w-md').classList.remove('scale-95', 'opacity-0');
      modal.querySelector('.max-w-md').classList.add('scale-100', 'opacity-100');
    }, 50);
  }

  // Cerrar modal
  function closeModal() {
    const modal = document.getElementById('modalConfirmacion');
    const content = modal.querySelector('.max-w-md');
    
    content.classList.remove('scale-100', 'opacity-100');
    content.classList.add('scale-95', 'opacity-0');
    
    setTimeout(() => {
      modal.classList.remove('opacity-100', 'pointer-events-auto');
      modal.classList.add('opacity-0', 'pointer-events-none');
    }, 200);
  }

  // Enviar a WhatsApp
// Enviar a WhatsApp
function enviarWhatsApp() {
  const businessName = "Veterinaria Mascotas";
  const whatsappNumber = "5491187654321";

  const message = `
🐾 *Reserva en ${businessName}*

📅 *Servicio:* ${formData.servicio}
🗓️ *Fecha:* ${new Date(formData.fecha).toLocaleDateString('es-AR', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' })}
⏰ *Hora:* ${formData.hora}
👤 *Cliente:* ${formData.nombre}
🐶 *Mascota:* ${formData.mascota}
📱 *Teléfono:* ${formData.telefono}

¡Gracias por confiar en nosotros! 🐾
  `.trim();

  const encodedMessage = encodeURIComponent(message);
  const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;

  const win = window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
  if (!win || win.closed) {
    alert('No se pudo abrir WhatsApp. Verifica tu conexión o bloqueador de pop-ups.');
  } else {
    // ✅ 1. Cerrar el modal
    closeModal();

    // ✅ 2. Resetear el formulario HTML
    document.getElementById('vet-reservation-form').reset();

    // ✅ 3. Limpiar los datos guardados en memoria
    formData = {};

    // ✅ 4. (Opcional) Mostrar mensaje de éxito
    const successMsg = document.createElement('div');
    successMsg.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-xl shadow-lg z-50 transition-opacity duration-300';
    successMsg.textContent = '¡Mensaje enviado! Gracias por tu reserva.';
    document.body.appendChild(successMsg);

    // Quitar el mensaje después de 5 segundos
    setTimeout(() => {
      successMsg.style.opacity = '0';
      setTimeout(() => {
        if (successMsg.parentNode) {
          document.body.removeChild(successMsg);
        }
      }, 300);
    }, 5000);
  }
}
  // Inicializar
  document.addEventListener('DOMContentLoaded', function() {
    // Cargar datos guardados
    cargarDatosGuardados();

    const form = document.getElementById('vet-reservation-form');
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();

        formData = {
          nombre: document.getElementById('vet-client-name').value.trim(),
          servicio: document.getElementById('vet-service').value.trim(),
          fecha: document.getElementById('vet-date').value.trim(),
          hora: document.getElementById('vet-time').value.trim(),
          mascota: document.getElementById('vet-pet-name').value.trim(),
          telefono: document.getElementById('vet-phone').value.trim()
        };

        // Validación
        if (!Object.values(formData).every(field => field)) {
          alert('Por favor, completa todos los campos.');
          return;
        }

        // Guardar datos
        guardarDatos();

        // Mostrar modal
        openModal();
      });
    }

    // Eventos del modal
    document.getElementById('modalConfirmacionBack')?.addEventListener('click', closeModal);
    document.getElementById('modalConfirmacionSend')?.addEventListener('click', enviarWhatsApp);
    
    // Cerrar al hacer clic fuera
    document.getElementById('modalConfirmacion')?.addEventListener('click', function(e) {
      if (e.target === this) closeModal();
    });

    // Botón de cierre
    document.getElementById('modalConfirmacionClose')?.addEventListener('click', closeModal);
  });
</script>
<script>  
    // Cargar ofertas desde JSON con filtrado por categoría
  const ofertasContainer = document.getElementById("ofertas-list");
  if (ofertasContainer) {
    let categoria = document.body.dataset.categoria || "panaderia";
    console.log("Categoría detectada:", categoria);

    fetch("/Zona-Tu-Barrio/castelar/datos/ofertas-veterinaria.json")
      .then((response) => {
        if (!response.ok) {
          throw new Error("Error al cargar el archivo JSON");
        }
        return response.json();
      })
      .then((data) => {
        const ofertasFiltradas = data.ofertas.filter(oferta => oferta.categoria === categoria);
        if (ofertasFiltradas.length === 0) {
          console.warn(`⚠️ No se encontraron ofertas para la categoría "${categoria}"`);
          ofertasContainer.innerHTML = `<p class="text-white text-center">No hay ofertas disponibles para esta categoría</p>`;
        } else {
          ofertasFiltradas.forEach((oferta) => {
            const col = document.createElement("div");
            col.className = "col-md-5";

            col.innerHTML = `
              <div class="card card-offer">
                <img src="${oferta.imagen}" class="card-img-top" alt="${oferta.titulo}" style="height: 200px; object-fit: cover;">
                <div class="card-body text-center">
                  <h3 class="card-title">${oferta.titulo}</h3>
                  <p class="card-text">${oferta.descripcion}</p>
                  <a href="${oferta.boton.url}" target="_blank" class="btn btn-whatsapp">${oferta.boton.texto}</a>
                </div>
              </div>
            `;

            ofertasContainer.appendChild(col);
          });
        }
      })
      .catch((error) => {
        console.error("Error al cargar las ofertas:", error);
        ofertasContainer.innerHTML = `<p class="text-white text-center">No se pudieron cargar las ofertas</p>`;
      });
  } else {
    console.warn("No se encontró el contenedor de ofertas");
  }
  
</script>
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/Zona-Tu-Barrio/shared/js/splash.js"></script>
<script src="/Zona-Tu-Barrio/shared/js/install-app.js"></script>
<script>
  AOS.init();
</script>

<!-- Modal de Confirmación - Fondo fijo y scroll interno -->
<div id="modalConfirmacion" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-300">
  <div class="bg-white rounded-2xl max-w-md w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col">
    <!-- Header -->
    <div class="bg-gradient-to-r from-purple-600 to-pink-500 text-white p-6 text-center">
      <h3 class="text-xl font-bold">Confirma tu Mensaje</h3>
      <p class="text-purple-100 text-sm">Revisa antes de enviar</p>
    </div>

    <!-- Contenido con scroll -->
    <div id="modalConfirmacionBody" class="p-6 space-y-4 overflow-y-auto max-h-[60vh]">
      <div class="bg-gray-50 rounded-xl p-4">
        <p class="text-sm text-gray-500">Cliente</p>
        <p class="font-semibold" id="confirmNombre">Nombre Apellido</p>
      </div>
      <div class="bg-gray-50 rounded-xl p-4">
        <p class="text-sm text-gray-500">Servicio</p>
        <p class="font-semibold" id="confirmTipo">Consulta Veterinaria</p>
      </div>
      <div class="bg-gray-50 rounded-xl p-4">
        <p class="text-sm text-gray-500">Fecha y Hora</p>
        <p class="font-semibold" id="confirmFechaHora">Lunes, 15 de abril 2025 - 15:30</p>
      </div>
      <div class="bg-gray-50 rounded-xl p-4">
        <p class="text-sm text-gray-500">Mascota</p>
        <p class="font-semibold" id="confirmMascota">Firulais</p>
      </div>
    </div>

    <!-- Botones fijos abajo -->
    <div class="flex gap-3 p-6 pt-0 border-t">
      <button id="modalConfirmacionBack" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-semibold transition">
        Editar
      </button>
      <button id="modalConfirmacionSend" class="flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-3 rounded-xl font-semibold transition transform hover:scale-105">
        Enviar por WhatsApp
      </button>
    </div>
  </div>
</div>
</body>
</html>