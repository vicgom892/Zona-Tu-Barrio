<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio de U√±as Bella - Tu Barrio A Un Click</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #FF6B6B;
            --secondary-color: #4ECDC4;
            --accent-color: #FFEAA7;
            --light-color: #FFF9F9;
            --dark-color: #2D3436;
        }
        
        body {
            background-color: var(--light-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding-top: 70px;
        }
        
        .navbar {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1030;
        }
        
        .navbar-brand img {
            height: 40px;
            margin-right: 10px;
        }
        
        .hero-section {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://placehold.co/1920x600/FF6B6B/FFFFFF?text=Studio+de+U√±as+Bella') no-repeat center center/cover;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            margin-top: 70px;
        }
        
        .section-title {
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            margin: 2rem 0;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }
        
        .gallery-card {
            border: 1px solid #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            height: 100%;
            background: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        
        .gallery-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-color: var(--secondary-color);
        }
        
        .gallery-image {
            height: 250px;
            object-fit: cover;
            width: 100%;
            transition: transform 0.3s ease;
        }
        
        .gallery-card:hover .gallery-image {
            transform: scale(1.05);
        }
        
        .gallery-info {
            padding: 15px;
        }
        
        .price-list {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            margin: 30px 0;
        }
        
        .price-item {
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .price-item:last-child {
            border-bottom: none;
        }
        
        .price-name {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .price-amount {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--dark-color);
        }
        
        .btn-appointment {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .btn-appointment:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }
        
        .back-to-main {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .back-to-main:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .form-control {
            border-radius: 10px;
            padding: 12px;
            border: 1px solid #e0e0e0;
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(255, 107, 107, 0.25);
        }
        
        .form-control.is-invalid {
            border-color: #dc3545;
            box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
        }
        
        .invalid-feedback {
            display: block;
            margin-top: 0.25rem;
            font-size: 0.875em;
            color: #dc3545;
        }
        
        .modal-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }
        
        .modal-title {
            font-weight: 600;
        }
        
        .close {
            color: white;
            opacity: 0.8;
        }
        
        .close:hover {
            opacity: 1;
        }
        
        .payment-option {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .payment-option:hover {
            border-color: var(--primary-color);
            background-color: rgba(255, 107, 107, 0.05);
        }
        
        .payment-option.selected {
            border-color: var(--primary-color);
            background-color: rgba(255, 107, 107, 0.1);
            box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.2);
        }
        
        .payment-option h6 {
            margin: 0;
            font-weight: 600;
        }
        
        .payment-option p {
            margin: 5px 0 0 0;
            font-size: 0.9rem;
            color: #666;
        }
        
        .deposit-notice {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .time-slot {
            display: inline-block;
            margin: 5px;
            padding: 8px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .time-slot:hover {
            background-color: var(--accent-color);
            border-color: var(--secondary-color);
        }
        
        .time-slot.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .time-slots-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        @media (max-width: 768px) {
            .hero-section {
                height: 300px;
            }
            
            .gallery-card {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Header con Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="https://placehold.co/100x40/FF6B6B/FFFFFF?text=Bella" alt="Studio de U√±as Bella">
                Studio de U√±as Bella
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a href="../index.html" class="btn back-to-main ms-3">
                            <i class="fas fa-arrow-left me-2"></i>Volver a Tu Barrio
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1 class="display-4 fw-bold">¬°Bienvenida a Studio de U√±as Bella!</h1>
            <p class="lead">Las mejores manicuras de Castelar, con estilo y elegancia.</p>
            <a href="#galeria" class="btn btn-lg btn-light">Ver Estilos</a>
        </div>
    </section>

    <!-- Secci√≥n de Galer√≠a de Tipos de U√±as -->
    <section id="galeria" class="container my-5">
        <h2 class="section-title">üíÖ TIPOS DE U√ëAS</h2>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="gallery-card">
                    <img src="https://placehold.co/400x300/FF6B6B/FFFFFF?text=U√±as+Gel" alt="U√±as Gel" class="gallery-image">
                    <div class="gallery-info">
                        <h5 class="card-title">U√±as de Gel</h5>
                        <p class="card-text">Duraderas y resistentes, con acabado brillante y natural.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="gallery-card">
                    <img src="https://placehold.co/400x300/4ECDC4/FFFFFF?text=U√±as+Acr√≠licas" alt="U√±as Acr√≠licas" class="gallery-image">
                    <div class="gallery-info">
                        <h5 class="card-title">U√±as Acr√≠licas</h5>
                        <p class="card-text">Perfectas para alargar y dar forma, ideales para dise√±os elaborados.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="gallery-card">
                    <img src="https://placehold.co/400x300/FFEAA7/2D3436?text=Semipermanente" alt="Semipermanente" class="gallery-image">
                    <div class="gallery-info">
                        <h5 class="card-title">Esmaltado Semipermanente</h5>
                        <p class="card-text">Duraci√≥n de hasta 3 semanas, sin astillarse ni desconcharse.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="gallery-card">
                    <img src="https://placehold.co/400x300/FF6B6B/FFFFFF?text=French" alt="French" class="gallery-image">
                    <div class="gallery-info">
                        <h5 class="card-title">French Cl√°sico</h5>
                        <p class="card-text">Elegante y atemporal, con punta blanca y base natural.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="gallery-card">
                    <img src="https://placehold.co/400x300/4ECDC4/FFFFFF?text=Dise√±os+Personalizados" alt="Dise√±os Personalizados" class="gallery-image">
                    <div class="gallery-info">
                        <h5 class="card-title">Dise√±os Personalizados</h5>
                        <p class="card-text">Flores, glitter, lunares, l√≠neas... ¬°Deja volar tu imaginaci√≥n!</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="gallery-card">
                    <img src="https://placehold.co/400x300/FFEAA7/2D3436?text=Reparaci√≥n" alt="Reparaci√≥n" class="gallery-image">
                    <div class="gallery-info">
                        <h5 class="card-title">Reparaci√≥n de U√±as</h5>
                        <p class="card-text">Reparamos u√±as rotas o levantadas para que luzcan como nuevas.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Lista de Precios -->
    <section id="precios" class="container my-5">
        <h2 class="section-title">üí∞ LISTA DE PRECIOS</h2>
        <div class="price-list">
            <div class="row">
                <div class="col-md-6">
                    <h4 class="mb-4">Manicura</h4>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">Manicura Express</span>
                            <span class="price-amount">$2500</span>
                        </div>
                        <small class="text-muted">Limpieza, corte y esmaltado b√°sico.</small>
                    </div>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">Manicura Spa</span>
                            <span class="price-amount">$3500</span>
                        </div>
                        <small class="text-muted">Exfoliaci√≥n, masaje y esmaltado semipermanente.</small>
                    </div>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">U√±as de Gel</span>
                            <span class="price-amount">$6500</span>
                        </div>
                        <small class="text-muted">Aplicaci√≥n completa con gel.</small>
                    </div>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">U√±as Acr√≠licas</span>
                            <span class="price-amount">$7000</span>
                        </div>
                        <small class="text-muted">Aplicaci√≥n completa con acr√≠lico.</small>
                    </div>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">Esmaltado Semipermanente</span>
                            <span class="price-amount">$4500</span>
                        </div>
                        <small class="text-muted">Duraci√≥n de hasta 3 semanas.</small>
                    </div>
                </div>
                <div class="col-md-6">
                    <h4 class="mb-4">Servicios Adicionales</h4>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">Dise√±os Personalizados</span>
                            <span class="price-amount">$1500+</span>
                        </div>
                        <small class="text-muted">Por dise√±o (dependiendo de la complejidad).</small>
                    </div>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">French</span>
                            <span class="price-amount">$800</span>
                        </div>
                        <small class="text-muted">Adicional al servicio de u√±as.</small>
                    </div>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">Glitter</span>
                            <span class="price-amount">$500</span>
                        </div>
                        <small class="text-muted">Adicional al servicio de u√±as.</small>
                    </div>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">Reparaci√≥n de U√±as</span>
                            <span class="price-amount">$2000</span>
                        </div>
                        <small class="text-muted">Por u√±a reparada.</small>
                    </div>
                    <div class="price-item">
                        <div class="d-flex justify-content-between">
                            <span class="price-name">Retiro de U√±as</span>
                            <span class="price-amount">$1500</span>
                        </div>
                        <small class="text-muted">Retiro profesional sin da√±ar tus u√±as naturales.</small>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Reserva de Turnos -->
    <section id="turnos" class="container my-5">
        <h2 class="section-title">üìÖ RESERVA TU TURNO</h2>
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-4">
                        <h3 class="mb-4">Completa el formulario para reservar tu turno</h3>
                        <form id="appointmentForm">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="clientName" class="form-label">Nombre Completo *</label>
                                    <input type="text" class="form-control" id="clientName" required>
                                    <div class="invalid-feedback">Por favor, ingresa tu nombre completo.</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="phone" class="form-label">Tel√©fono de Contacto *</label>
                                    <input type="tel" class="form-control" id="phone" required>
                                    <div class="invalid-feedback">Por favor, ingresa un tel√©fono v√°lido.</div>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="appointmentDate" class="form-label">Fecha del Turno *</label>
                                    <input type="date" class="form-control" id="appointmentDate" required>
                                    <div class="invalid-feedback">Por favor, selecciona una fecha.</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="appointmentTime" class="form-label">Hora del Turno *</label>
                                    <div id="timeSlotsContainer" class="time-slots-container">
                                        <!-- Los horarios se generar√°n din√°micamente -->
                                    </div>
                                    <input type="hidden" id="selectedTime" required>
                                    <div class="invalid-feedback">Por favor, selecciona una hora.</div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="nailService" class="form-label">Servicio de U√±as *</label>
                                <select class="form-control" id="nailService" required>
                                    <option value="">Selecciona un servicio...</option>
                                    <option value="Manicura Express - $2500">Manicura Express - $2500</option>
                                    <option value="Manicura Spa - $3500">Manicura Spa - $3500</option>
                                    <option value="U√±as de Gel - $6500">U√±as de Gel - $6500</option>
                                    <option value="U√±as Acr√≠licas - $7000">U√±as Acr√≠licas - $7000</option>
                                    <option value="Esmaltado Semipermanente - $4500">Esmaltado Semipermanente - $4500</option>
                                    <option value="Reparaci√≥n de U√±as - $2000">Reparaci√≥n de U√±as - $2000</option>
                                    <option value="Retiro de U√±as - $1500">Retiro de U√±as - $1500</option>
                                </select>
                                <div class="invalid-feedback">Por favor, selecciona un servicio de u√±as.</div>
                            </div>
                            <div class="mb-3">
                                <label for="notes" class="form-label">Notas Adicionales (opcional)</label>
                                <textarea class="form-control" id="notes" rows="3" placeholder="¬øTienes alg√∫n dise√±o en mente?"></textarea>
                            </div>
                            
                            <div class="deposit-notice">
                                <h6><i class="fas fa-info-circle me-2"></i>Opci√≥n de Se√±a</h6>
                                <p>Puedes reservar tu turno dejando una se√±a de $2000. El monto restante se abonar√° en el local el d√≠a de tu servicio.</p>
                            </div>
                            
                            <div class="mb-4">
                                <label class="form-label">M√©todo de Pago *</label>
                                <div class="payment-option" id="fullPaymentOption">
                                    <h6>Pago Completo</h6>
                                    <p>Abona el total del servicio ahora</p>
                                </div>
                                <div class="payment-option" id="depositPaymentOption">
                                    <h6>Dejar Se√±a ($2000)</h6>
                                    <p>Reserva tu turno con una se√±a de $2000 y paga el resto en el local</p>
                                </div>
                                <input type="hidden" id="paymentMethod" required>
                                <div class="invalid-feedback">Por favor, selecciona un m√©todo de pago.</div>
                            </div>
                            
                            <button type="submit" class="btn btn-appointment">
                                <i class="fas fa-calendar-check me-2"></i> Reservar y Pagar
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de Confirmaci√≥n -->
    <div class="modal fade" id="confirmationModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">‚úÖ Confirmar Reserva y Pago</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Por favor, verifica que toda la informaci√≥n sea correcta antes de confirmar y pagar:</p>
                    <div class="bg-light p-3 rounded mb-3">
                        <p><strong>Nombre:</strong> <span id="confirmName"></span></p>
                        <p><strong>Tel√©fono:</strong> <span id="confirmPhone"></span></p>
                        <p><strong>Fecha:</strong> <span id="confirmDate"></span></p>
                        <p><strong>Hora:</strong> <span id="confirmTime"></span></p>
                        <p><strong>Servicio:</strong> <span id="confirmService"></span></p>
                        <p><strong>M√©todo de Pago:</strong> <span id="confirmPaymentMethod"></span></p>
                        <p><strong>Monto a Pagar Ahora:</strong> <span id="confirmAmount"></span></p>
                        <p><strong>Notas:</strong> <span id="confirmNotes"></span></p>
                    </div>
                    <p class="text-muted small">Al confirmar, ser√°s redirigida a una p√°gina segura de Mercado Pago para completar el pago.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Volver a Editar</button>
                    <button type="button" id="confirmButton" class="btn btn-primary">
                        <i class="fab fa-cc-visa me-2"></i> Confirmar y Pagar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Studio de U√±as Bella</h5>
                    <p>Av. Principal 321, Castelar</p>
                    <p>Tel: (11) 5555-7777</p>
                    <p>Horario: Martes a S√°bado de 10:00 a 20:00</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <h5>Redes Sociales</h5>
                    <a href="#" class="btn btn-outline-light btn-sm me-2"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="btn btn-outline-light btn-sm me-2"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="btn btn-outline-light btn-sm"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
            <hr class="my-3">
            <div class="text-center">
                <p class="mb-0">¬© 2024 Studio de U√±as Bella - Todos los derechos reservados</p>
                <p class="small">Parte de la red <a href="../index.html" class="text-white">Tu Barrio A Un Click</a></p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Variables globales
        let selectedTime = null;
        let selectedPaymentMethod = null;
        let servicePrice = 0;

        // Generar horarios por hora espec√≠fica
        function generateTimeSlots() {
            const timeSlotsContainer = document.getElementById('timeSlotsContainer');
            timeSlotsContainer.innerHTML = '';
            
            // Horarios disponibles: de 10:00 a 20:00 en intervalos de 1 hora
            const startHour = 10;
            const endHour = 20;
            
            for (let hour = startHour; hour < endHour; hour++) {
                const time12hr = hour > 12 ? `${hour - 12}:00 PM` : (hour === 12 ? `12:00 PM` : `${hour}:00 AM`);
                const time24hr = hour < 10 ? `0${hour}:00` : `${hour}:00`;
                
                const timeSlot = document.createElement('div');
                timeSlot.className = 'time-slot';
                timeSlot.textContent = time12hr;
                timeSlot.dataset.time = time24hr;
                
                timeSlot.addEventListener('click', function() {
                    // Remover la clase 'selected' de todos los slots
                    document.querySelectorAll('.time-slot').forEach(slot => {
                        slot.classList.remove('selected');
                    });
                    
                    // Agregar la clase 'selected' al slot clickeado
                    this.classList.add('selected');
                    selectedTime = this.dataset.time;
                    document.getElementById('selectedTime').value = selectedTime;
                });
                
                timeSlotsContainer.appendChild(timeSlot);
            }
        }

        // Manejar selecci√≥n de m√©todo de pago
        function setupPaymentOptions() {
            const fullPaymentOption = document.getElementById('fullPaymentOption');
            const depositPaymentOption = document.getElementById('depositPaymentOption');
            const paymentMethodInput = document.getElementById('paymentMethod');
            
            fullPaymentOption.addEventListener('click', function() {
                document.querySelectorAll('.payment-option').forEach(option => {
                    option.classList.remove('selected');
                });
                this.classList.add('selected');
                selectedPaymentMethod = 'full';
                paymentMethodInput.value = 'full';
            });
            
            depositPaymentOption.addEventListener('click', function() {
                document.querySelectorAll('.payment-option').forEach(option => {
                    option.classList.remove('selected');
                });
                this.classList.add('selected');
                selectedPaymentMethod = 'deposit';
                paymentMethodInput.value = 'deposit';
            });
        }

        // Formulario de turnos con validaci√≥n y modal de confirmaci√≥n
        document.getElementById('appointmentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validar formulario
            const clientName = document.getElementById('clientName');
            const phone = document.getElementById('phone');
            const appointmentDate = document.getElementById('appointmentDate');
            const selectedTimeInput = document.getElementById('selectedTime');
            const nailService = document.getElementById('nailService');
            const paymentMethodInput = document.getElementById('paymentMethod');
            
            let isValid = true;
            
            // Resetear estilos de validaci√≥n
            [clientName, phone, appointmentDate, nailService].forEach(field => {
                field.classList.remove('is-invalid');
            });
            
            // Validar campos obligatorios
            if (!clientName.value.trim()) {
                clientName.classList.add('is-invalid');
                isValid = false;
            }
            
            if (!phone.value.trim() || !/^\d{10,15}$/.test(phone.value.replace(/\D/g, ''))) {
                phone.classList.add('is-invalid');
                isValid = false;
            }
            
            if (!appointmentDate.value) {
                appointmentDate.classList.add('is-invalid');
                isValid = false;
            }
            
            if (!selectedTime) {
                document.getElementById('appointmentTime').classList.add('is-invalid');
                isValid = false;
            }
            
            if (!nailService.value) {
                nailService.classList.add('is-invalid');
                isValid = false;
            }
            
            if (!selectedPaymentMethod) {
                document.getElementById('paymentMethod').classList.add('is-invalid');
                isValid = false;
            }
            
            // Si el formulario es v√°lido, mostrar modal de confirmaci√≥n
            if (isValid) {
                // Extraer precio del servicio seleccionado
                const serviceText = nailService.value;
                const priceMatch = serviceText.match(/\$(\d+)/);
                servicePrice = priceMatch ? parseInt(priceMatch[1]) : 0;
                
                // Calcular monto a pagar seg√∫n m√©todo de pago
                let amountToPay = 0;
                let paymentMethodText = '';
                
                if (selectedPaymentMethod === 'full') {
                    amountToPay = servicePrice;
                    paymentMethodText = 'Pago Completo';
                } else {
                    amountToPay = 2000; // Se√±a fija de $2000
                    paymentMethodText = 'Se√±a ($2000) - Resto en el local';
                }
                
                // Llenar el modal de confirmaci√≥n
                document.getElementById('confirmName').textContent = clientName.value;
                document.getElementById('confirmPhone').textContent = phone.value;
                document.getElementById('confirmDate').textContent = appointmentDate.value;
                document.getElementById('confirmTime').textContent = selectedTime;
                document.getElementById('confirmService').textContent = serviceText;
                document.getElementById('confirmPaymentMethod').textContent = paymentMethodText;
                document.getElementById('confirmAmount').textContent = `$${amountToPay}`;
                document.getElementById('confirmNotes').textContent = document.getElementById('notes').value || 'Ninguna';
                
                // Mostrar modal de confirmaci√≥n
                const confirmationModal = new bootstrap.Modal(document.getElementById('confirmationModal'));
                confirmationModal.show();
            }
        });

        // CONFIRMAR Y REDIRIGIR A MERCADO PAGO
        document.getElementById('confirmButton').addEventListener('click', async function() {
            const clientName = document.getElementById('clientName').value;
            const phone = document.getElementById('phone').value;
            const appointmentDate = document.getElementById('appointmentDate').value;
            const notes = document.getElementById('notes').value;
            const nailService = document.getElementById('nailService').value;
            
            // Calcular monto a pagar seg√∫n m√©todo de pago
            let amountToPay = 0;
            if (selectedPaymentMethod === 'full') {
                const priceMatch = nailService.match(/\$(\d+)/);
                amountToPay = priceMatch ? parseInt(priceMatch[1]) : 0;
            } else {
                amountToPay = 2000; // Se√±a fija de $2000
            }

            // VALIDAR QUE HAYA UN MONTO A PAGAR
            if (amountToPay <= 0) {
                alert('Error: No se pudo determinar el monto a pagar. Por favor, selecciona un servicio v√°lido.');
                return;
            }

            // CREAR PREFERENCIA PARA MERCADO PAGO
            const preference = {
                items: [
                    {
                        title: selectedPaymentMethod === 'full' ? nailService : `Se√±a para ${nailService}`,
                        quantity: 1,
                        unit_price: amountToPay,
                        currency_id: "ARS"
                    }
                ],
                payer: {
                    name: clientName.split(' ')[0] || 'Cliente',
                    surname: clientName.split(' ').slice(1).join(' ') || 'Sin apellido',
                    email: "cliente@tubarrioaunclick.com",
                    phone: {
                        area_code: "11",
                        number: phone.replace(/\D/g, '').slice(-8) || '00000000'
                    }
                },
                back_urls: {
                    success: "https://vicgom892.github.io/Zona-Tu-Barrio/castelar/negocios/gracias.html",
                    failure: "https://vicgom892.github.io/Zona-Tu-Barrio/castelar/negocios/fallo.html",
                    pending: "https://vicgom892.github.io/Zona-Tu-Barrio/castelar/negocios/pendiente.html"
                },
                auto_return: "approved",
                // Agregar metadata para identificar el tipo de pago y el servicio
                metadata: {
                    payment_type: selectedPaymentMethod,
                    service: nailService,
                    appointment_date: appointmentDate,
                    appointment_time: selectedTime,
                    client_name: clientName,
                    client_phone: phone,
                    notes: notes
                }
            };

            try {
                // ENVIAR LA PETICI√ìN A MERCADO PAGO
                const response = await fetch('https://api.mercadopago.com/checkout/preferences', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        // ¬°REEMPLAZA ESTO CON UN TOKEN DE PRUEBA DE MERCADO PAGO!
                        'Authorization': 'Bearer TEST-1234567890-abcdef123456-1234567890' 
                    },
                    body: JSON.stringify(preference)
                });

                // VERIFICAR SI LA RESPUESTA ES OK
                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('Error de Mercado Pago:', errorData);
                    throw new Error(`HTTP ${response.status}: ${errorData.message || 'Error desconocido'}`);
                }

                const data = await response.json();
                
                // VERIFICAR QUE EXISTE init_point
                if (data.init_point) {
                    window.location.href = data.init_point;
                } else {
                    throw new Error('La respuesta de Mercado Pago no contiene "init_point"');
                }

            } catch (error) {
                console.error('Error al crear la preferencia de pago:', error);
                alert('Hubo un error al procesar el pago. Por favor, intenta nuevamente m√°s tarde.');
            }
        });

        // Configurar fecha m√≠nima (hoy) y generar horarios al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('appointmentDate').min = new Date().toISOString().split('T')[0];
            generateTimeSlots();
            setupPaymentOptions();
        });
    </script>
</body>
</html>