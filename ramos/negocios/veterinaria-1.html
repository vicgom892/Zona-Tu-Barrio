<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Veterinaria Mascotas - Tu Barrio A Un Click</title>
  <link rel="manifest" href="../manifest.json">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  <link rel="stylesheet" href="../css/negocios.css">
  <link rel="icon" href="../img/icon-192x192.png">
  <meta name="description" content="Veterinaria Mascotas en Castelar. Cuidado integral para tus mascotas, desde consultas hasta alimentos.">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body data-categoria="veterinaria" class="bg-gray-100 font-sans">

   <div id="splash-screen" class="splash-screen">
        <div class="splash-particles" id="splashParticles"></div>
        <div class="splash-grid"></div>
        <div class="splash-logo">
            <img src="../img/icon-192x192.png" class="logo-icon" alt="logo de la app">
        </div>
        <h1 class="splash-text">Tu Barrio A Un Clik</h1>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
        <p class="loading-text" id="loadingText">Cargando experiencia local...</p>
        <button onclick="skipSplash()" class="skip-btn">Saltar</button>
    </div>

  <!-- Header dinámico -->
  <header
    data-nombre-negocio="veterinaria"
    data-logo-negocio="img/logo-negocio.png">
    <div class="container flex justify-between items-center p-4">
      <!-- Logo de la app animado con texto -->
      <a href="../index.html" class="logo-app group text-decoration-none inline-flex items-center space-x-2 bg-white px-3 py-1 rounded-full shadow-md border border-gray-200 transition-all duration-300 hover:scale-105 hover:shadow-lg animate-bounce-slow">
        <img src="../img/icon-192x192.png" alt="Logo App" class="h-8" />
        <span class="text-gray-700 font-semibold text-sm hidden sm:inline">Volver a la App</span>
      </a>

      <!-- Menú navegación (centrado en PC) -->
      <nav class="nav-menu hidden md:flex space-x-6">
        <a href="#inicio" class="text-gray-700 hover:text-green-600">Inicio</a>
        <a href="#productos" class="text-gray-700 hover:text-green-600">Productos</a>
        <a href="#ofertas" class="text-gray-700 hover:text-green-600">Ofertas</a>
        <a href="#contacto" class="text-gray-700 hover:text-green-600">Contacto</a>
      </nav>

      <!-- Logo del negocio -->
      <a href="../index.html" class="logo-negocio group inline-flex items-center space-x-2 bg-white px-3 py-1 rounded-full shadow-md border border-gray-200 transition-all duration-300 hover:scale-105 hover:shadow-lg animate-bounce-slow">
        <img id="logoNegocioPC" src="../img/icon-192x192.png" alt="Logo Negocio" class="h-10" />
      </a>

      <!-- Botón hamburguesa móvil -->
      <button id="mobileMenuToggle" class="md:hidden text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </header>

  <div id="mobileMenuModal" class="modal fade" tabindex="-1" aria-labelledby="mobileMenuModalLabel" aria-hidden="true">  
  <div class="modal-dialog modal-right">
    <div class="modal-content bg-white/95 backdrop-blur-md w-3/4 max-w-sm h-full p-6 flex flex-col shadow-lg rounded-r-xl relative">
      <!-- Header del modal -->
      <div class="flex justify-between items-center mb-4">
        <img id="logoNegocioModal" src="../img/icon-192x192.png " alt="Logo del Negocio" class="h-10 rounded shadow-md">
        <button id="mobileMenuClose" class="text-gray-800 hover:text-red-500 focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <!-- Bienvenida -->
      <div class="mb-6">
        <h2 class="text-lg font-semibold text-gray-800">Bienvenido a</h2>
        <p id="nombreNegocioModal" class="text-xl font-bold text-green-700">Panadería</p>
      </div>

      <!-- Navegación móvil -->
      <nav class="space-y-4 text-base text-gray-700">
        <a href="#inicio" class="block hover:text-blue-600 transition">Inicio</a>
        <a href="#productos" class="block hover:text-blue-600 transition">Productos</a>
        <a href="#ofertas" class="block hover:text-blue-600 transition">Ofertas</a>
        <a href="#contacto" class="block hover:text-blue-600 transition">Contacto</a>
      </nav>

      <div class="flex-grow"></div>
    </div>
  </div>
  </div>

  <!-- Contenido principal -->
    <!-- Banner del negocio -->
    <section class="hero parallax" id="veterinaria-1">
      <div class="overlay-text text-white text-center p-4">
        <h1 class="display-4 fw-bold">Bienvenidos</h1>
        <p class="lead mb-4">Disfruta de la mejor experiencia en tu barrio</p>
        <a href="#panaderias" class="btn btn-primary btn-lg">Explorar Comercios</a>
      </div>
    </section>

    <!-- Información del negocio -->
    <section class="bg-white rounded-lg shadow-md p-4 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Información</h2>
      <div class="space-y-2">
        <p><strong>Dirección:</strong> Av. Independencia 901, Castelar, Buenos Aires</p>
        <p><strong>Horarios:</strong> <span data-hours="Mon-Sat 10:00-19:00">Lunes a Sábado: 10:00 - 19:00</span></p>
        <p><strong>Teléfono:</strong> <a href="tel:+541187654321">+54 11 8765-4321</a></p>
        <button class="btn-whatsapp bg-green-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2" data-hours="Mon-Sat 10:00-19:00" data-number="5491187654321">
          <i class="fab fa-whatsapp"></i>
          <span>Contactar por WhatsApp</span>
        </button>
      </div>
    </section>

    <section class="offers">
      <h2 class="text-2xl font-bold text-gray-800 mb-4">Ofertas Especiales</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <div class="offer-card bg-white rounded-lg shadow-md p-4">
          <img src="../img/veterinaria-1.webp" alt="Descuento en Alimentos" class="offer-img w-full h-32 object-cover rounded-t-lg">
          <h3 class="text-lg font-semibold text-gray-800 mt-2">10% en Alimentos</h3>
          <p class="text-gray-600">Llevando 2 bolsas de alimento balanceado premium, obtenés un 10% de descuento.</p>
        </div>

        <div class="offer-card bg-white rounded-lg shadow-md p-4">
          <img src="../img/veterinaria-2.webp" alt="Vacunación y Control" class="offer-img w-full h-32 object-cover rounded-t-lg">
          <h3 class="text-lg font-semibold text-gray-800 mt-2">Vacunación + Control</h3>
          <p class="text-gray-600">Consultá por nuestro combo de vacunación con control general a solo $3500.</p>
        </div>

        <div class="offer-card bg-white rounded-lg shadow-md p-4">
          <img src="../img/veterinaria-3.webp" alt="Baño Gratis" class="offer-img w-full h-32 object-cover rounded-t-lg">
          <h3 class="text-lg font-semibold text-gray-800 mt-2">Baño Gratis</h3>
          <p class="text-gray-600">Con cada servicio de corte y peluquería para mascotas grandes, ¡baño sin cargo!</p>
        </div>

        <div class="offer-card bg-white rounded-lg shadow-md p-4">
          <img src="../img/veterinaria-4.webp" alt="Descuento Turno Web" class="offer-img w-full h-32 object-cover rounded-t-lg">
          <h3 class="text-lg font-semibold text-gray-800 mt-2">Descuento por Turno Web</h3>
          <p class="text-gray-600">Reservá tu turno online y obtené un 15% de descuento en tu primera visita.</p>
        </div>
      </div>
    </section>

    <!-- Reservas -->
    <section class="bg-white rounded-lg shadow-md p-4 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Reservar Cita</h2>
      <form id="vet-reservation-form" class="space-y-4">
        <div>
          <label for="vet-service" class="block text-gray-700 font-medium">Tipo de Servicio</label>
          <select id="vet-service" name="service" class="w-full p-2 border border-gray-300 rounded" required>
            <option value="" disabled selected>Selecciona un servicio</option>
            <option value="Consulta Veterinaria">Consulta Veterinaria ($2500)</option>
            <option value="Vacunación">Vacunación ($1500)</option>
            <option value="Baño y Corte">Baño y Corte ($3000)</option>
            <option value="Cirugía Menor">Cirugía Menor (Consultar)</option>
          </select>
        </div>
        <div>
          <label for="vet-date" class="block text-gray-700 font-medium">Fecha</label>
          <input type="date" id="vet-date" name="date" class="w-full p-2 border border-gray-300 rounded" required>
        </div>
        <div>
          <label for="vet-time" class="block text-gray-700 font-medium">Hora</label>
          <input type="time" id="vet-time" name="time" class="w-full p-2 border border-gray-300 rounded" min="10:00" max="19:00" required>
        </div>
        <div>
          <label for="vet-client-name" class="block text-gray-700 font-medium">Nombre del Cliente</label>
          <input type="text" id="vet-client-name" name="client-name" class="w-full p-2 border border-gray-300 rounded" required>
        </div>
        <div>
          <label for="vet-pet-name" class="block text-gray-700 font-medium">Nombre de la Mascota</label>
          <input type="text" id="vet-pet-name" name="pet-name" class="w-full p-2 border border-gray-300 rounded" required>
        </div>
        <div>
          <label for="vet-phone" class="block text-gray-700 font-medium">Teléfono</label>
          <input type="tel" id="vet-phone" name="phone" class="w-full p-2 border border-gray-300 rounded" required>
        </div>
        <button type="submit" class="btn-whatsapp bg-green-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2">
          <i class="fab fa-whatsapp"></i>
          <span>Reservar por WhatsApp</span>
        </button>
      </form>
    </section>

    <!-- Servicios destacados -->
    <section class="bg-white rounded-lg shadow-md p-4">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Servicios Destacados</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div class="flex items-start space-x-3 business-card bg-white rounded-lg shadow-md p-4">
          <img src="../img/veterinaria.webp" alt="Consulta Veterinaria" class="w-20 h-20 object-cover rounded" loading="lazy">
          <div>
            <h3 class="font-semibold text-gray-800">Consulta Veterinaria</h3>
            <p class="text-gray-600">Revisión completa para perros y gatos. $2500.</p>
          </div>
        </div>
        <div class="flex items-start space-x-3 business-card bg-white rounded-lg shadow-md p-4">
          <img src="../img/veterinaria-1.webp" alt="Vacunas" class="w-20 h-20 object-cover rounded" loading="lazy">
          <div>
            <h3 class="font-semibold text-gray-800">Vacunas</h3>
            <p class="text-gray-600">Vacunas para mascotas. $1500/dosis.</p>
          </div>
        </div>
        <div class="flex items-start space-x-3 business-card bg-white rounded-lg shadow-md p-4">
          <img src="../img/veterinaria-2.webp" alt="Alimento Balanceado" class="w-20 h-20 object-cover rounded" loading="lazy">
          <div>
            <h3 class="font-semibold text-gray-800">Alimento Balanceado</h3>
            <p class="text-gray-600">Alimento premium para perros y gatos. $5000/bolsa.</p>
          </div>
        </div>
      </div>
    </section>

  <!-- Botón Volver Arriba -->
  <button id="scrollTopBtn" class="fixed bottom-4 right-4 bg-blue-600 text-white p-3 rounded-full shadow-lg hidden">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
    </svg>
  </button>

  <!-- Sección Ofertas de la Semana -->
    <section class="parallax-offer" id="ofertas">
      <div class="container py-5 position-relative z-10" id="ofertas-container">
        <h2 class="text-center text-white mb-5">🌟 Ofertas de la Semana</h2>
        <div class="row justify-content-center g-4" id="ofertas-list">
          <!-- Tarjetas generadas dinámicamente -->
        </div>
      </div>
    </section>

  <footer class="bg-white shadow-inner mt-8" id="contacto">
    <div class="container mx-auto px-4 py-6 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">

      <div class="space-x-4 text-sm text-gray-600">
        <a href="#inicio" class="hover:text-blue-600">Inicio</a>
        <a href="#negocios" class="hover:text-blue-600">Negocios</a>
        <a href="#promos" class="hover:text-blue-600">Promos</a>
        <a href="#contacto" class="hover:text-blue-600">Contacto</a>
      </div>
      <p class="text-xs text-gray-400">© 2025 Tu Barrio A Un Click. Todos los derechos reservados.</p>
    </div>
    <!-- Botón de instalación en el footer -->
    <div class="install-banner mt-4 p-3 bg-white rounded shadow-sm">
      <div class="d-flex align-items-center">
        <img src="../img/icon-192x192.png" alt="Logo App" class="me-3" style="width: 60px; height: 60px;">
        <div class="flex-grow-1">
          <div class="small text-muted mb-1">¿Quieres la app completa?</div>
          <button id="botonInstalar" class="btn btn-success w-100 py-2">
            <i class="fas fa-download me-1"></i>Instalar Tu Barrio A Un Clik
          </button>
        </div>
      </div>
    </div>
  </footer>
<script>
    // Formularios de Reserva (para barbería o veterinaria)
  const vetReservationForm = document.getElementById("vet-reservation-form");


  if (vetReservationForm) {
    vetReservationForm.addEventListener("submit", (e) => {
      e.preventDefault();
      console.log("Formulario de reservas (veterinaria) enviado");

      const serviceInput = vetReservationForm.querySelector("#vet-service");
      const dateInput = vetReservationForm.querySelector("#vet-date");
      const timeInput = vetReservationForm.querySelector("#vet-time");
      const clientNameInput = vetReservationForm.querySelector("#vet-client-name");
      const petNameInput = vetReservationForm.querySelector("#vet-pet-name");
      const phoneInput = vetReservationForm.querySelector("#vet-phone");

      if (!serviceInput || !dateInput || !timeInput || !clientNameInput || !petNameInput || !phoneInput) {
        console.error("Uno o más elementos del formulario de veterinaria no encontrados", {
          serviceInput,
          dateInput,
          timeInput,
          clientNameInput,
          petNameInput,
          phoneInput,
        });
        alert("Error: No se encontraron todos los campos del formulario. Por favor, verifica la página.");
        return;
      }

      const service = serviceInput.value.trim();
      const date = dateInput.value.trim();
      const time = timeInput.value.trim();
      const clientName = clientNameInput.value.trim();
      const petName = petNameInput.value.trim();
      const phone = phoneInput.value.trim();

      console.log("Valores del formulario (veterinaria):", { service, date, time, clientName, petName, phone });

      if (!service || !date || !time || !clientName || !petName || !phone) {
        console.warn("Campos incompletos en formulario de veterinaria:", { service, date, time, clientName, petName, phone });
        alert("Por favor, completa todos los campos obligatorios.");
        return;
      }

      const formattedDate = new Date(date).toLocaleDateString("es-AR", {
        weekday: "long",
        year: "numeric",
        month: "long",
        day: "numeric",
      });

      let categoria = document.body.dataset.categoria || "panaderia";
      let businessName = "Negocio";
      let whatsappNumber = "5491157194796";
      if (categoria === "veterinaria") {
        businessName = "Veterinaria Mascotas";
        whatsappNumber = "5491187654321";
      }

      const message = `Reserva en ${businessName}:\nServicio: ${service}\nFecha: ${formattedDate}\nHora: ${time}\nCliente: ${clientName}\nMascota: ${petName}\nTeléfono: ${phone}`;
      const encodedMessage = encodeURIComponent(message);
      const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
      console.log("Abriendo WhatsApp URL (veterinaria):", whatsappUrl);
      const win = window.open(whatsappUrl, "_blank");
      if (!win || win.closed || typeof win.closed === "undefined") {
        console.error("Error abriendo WhatsApp (veterinaria):", whatsappUrl);
        alert("Error al abrir WhatsApp. Por favor, verifica que no tengas un bloqueador de pop-ups activo o intenta de nuevo.");
      } else {
        console.log("WhatsApp abierto para reserva (veterinaria)");
        vetReservationForm.reset();
      }
    });
  } else {
    console.warn("⚠️ Elemento con ID 'vet-reservation-form' no encontrado");
  }
    
    // Cargar ofertas desde JSON con filtrado por categoría
  const ofertasContainer = document.getElementById("ofertas-list");
  if (ofertasContainer) {
    let categoria = document.body.dataset.categoria || "panaderia";
    console.log("Categoría detectada:", categoria);

    fetch("../datos/ofertas-veterinaria-1.json")
      .then((response) => {
        if (!response.ok) {
          throw new Error("Error al cargar el archivo JSON");
        }
        return response.json();
      })
      .then((data) => {
        const ofertasFiltradas = data.ofertas.filter(oferta => oferta.categoria === categoria);
        if (ofertasFiltradas.length === 0) {
          console.warn(`⚠️ No se encontraron ofertas para la categoría "${categoria}"`);
          ofertasContainer.innerHTML = `<p class="text-white text-center">No hay ofertas disponibles para esta categoría</p>`;
        } else {
          ofertasFiltradas.forEach((oferta) => {
            const col = document.createElement("div");
            col.className = "col-md-5";

            col.innerHTML = `
              <div class="card card-offer">
                <img src="${oferta.imagen}" class="card-img-top" alt="${oferta.titulo}" style="height: 200px; object-fit: cover;">
                <div class="card-body text-center">
                  <h3 class="card-title">${oferta.titulo}</h3>
                  <p class="card-text">${oferta.descripcion}</p>
                  <a href="${oferta.boton.url}" target="_blank" class="btn btn-whatsapp">${oferta.boton.texto}</a>
                </div>
              </div>
            `;

            ofertasContainer.appendChild(col);
          });
        }
      })
      .catch((error) => {
        console.error("Error al cargar las ofertas:", error);
        ofertasContainer.innerHTML = `<p class="text-white text-center">No se pudieron cargar las ofertas</p>`;
      });
  } else {
    console.warn("No se encontró el contenedor de ofertas");
  }
  
</script>
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="../js/splash.js"></script>
<script src="../js/install-app.js"></script>
<script>
  AOS.init();
</script>
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('/sw.js')
        .then(function(registration) {
          console.log('ServiceWorker registrado con éxito:', registration.scope);
          
          // Escuchar actualizaciones
          registration.onupdatefound = function() {
            const installingWorker = registration.installing;
            installingWorker.onstatechange = function() {
              if (installingWorker.state === 'installed' && navigator.serviceWorker.controller) {
                // Mostrar notificación de actualización
                const updateNotification = document.createElement('div');
                updateNotification.className = 'update-notification';
                updateNotification.innerHTML = `
                  <div class="update-content">
                    <p>¡Hay una nueva versión disponible!</p>
                    <button class="btn-update">Actualizar ahora</button>
                  </div>
                `;
                
                document.body.appendChild(updateNotification);
                
                document.querySelector('.btn-update').addEventListener('click', function() {
                  window.location.reload();
                });
              }
            };
          };
        })
        .catch(function(error) {
          console.log('ServiceWorker falló al registrarse:', error);
        });
    });
    
    // Detectar cuando el service worker activa una nueva versión
    let refreshing;
    navigator.serviceWorker.addEventListener('controllerchange', function() {
      if (refreshing) return;
      refreshing = true;
      window.location.reload();
    });
  }
</script>

<style>
  .update-notification {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    z-index: 9999;
    animation: slideIn 0.3s;
  }
  
  @keyframes slideIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  
  .update-content {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  
  .btn-update {
    background: #e1306c;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 5px 10px;
    cursor: pointer;
    transition: all 0.2s;
  }
  
  .btn-update:hover {
    background: #c12757;
    transform: translateY(-2px);
  }
</style>
</body>
</html>